(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{471:function(t,e,a){"use strict";a.r(e);var r=a(32),s=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"prepare-for-ios-14"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prepare-for-ios-14"}},[t._v("#")]),t._v(" Prepare for iOS 14")]),t._v(" "),a("h2",{attrs:{id:"prepare-for-ios-14-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prepare-for-ios-14-2"}},[t._v("#")]),t._v(" Prepare For iOS 14 "),a("a",{attrs:{href:"prepare-for-ios-14",id:"prepare-for-ios-14"}})]),t._v(" "),a("p",[t._v("Starting from iOS 14, it will be giving users the choice to block the IDFA identifier at the app level. Among other changes, what this means is the iOS 14 update will require apps to ask users for permission to collect and share data, which is called the "),a("a",{attrs:{href:"https://developer.apple.com/documentation/apptrackingtransparency",target:"_blank",rel:"noopener noreferrer"}},[t._v("App Tracking Transparency"),a("OutboundLink")],1),t._v(" framework. It aims to present the app-tracking authorization request to the end-user. If an app does not present this request, the IDFA will automatically be zeroed out which may lead to a significant loss in ad revenue.")]),t._v(" "),a("p",[t._v("This guide outlines the changes needed for iOS 14 support.")]),t._v(" "),a("h2",{attrs:{id:"request-apptrackingtransparency-for-idfa"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-apptrackingtransparency-for-idfa"}},[t._v("#")]),t._v(" Request AppTrackingTransparency for IDFA")]),t._v(" "),a("h3",{attrs:{id:"step-1-link-apptrackingtransparency-framework-in-your-project"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-1-link-apptrackingtransparency-framework-in-your-project"}},[t._v("#")]),t._v(" Step 1. Link AppTrackingTransparency.framework in your project.")]),t._v(" "),a("p",[t._v("As the framework is iOS14+, you need to link this feature with the framework at beta Xcode (12+)")]),t._v(" "),a("h3",{attrs:{id:"step-2-add-user-tracking-usage-description-in-info-plist"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-2-add-user-tracking-usage-description-in-info-plist"}},[t._v("#")]),t._v(" Step 2. Add User Tracking Usage Description in "),a("em",[t._v("info.plist")])]),t._v(" "),a("p",[t._v("Just like the usage of Camera / Album / Location, you need to provide a message telling users that why your app needs permission.")]),t._v(" "),a("div",{staticClass:"language-objectivec line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-objectivec"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("NSUserTrackingUsageDescription"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("string"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("This identifier will be used to deliver personalized ads to you"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("string"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h3",{attrs:{id:"step-3-request-permission-before-request-ads"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-3-request-permission-before-request-ads"}},[t._v("#")]),t._v(" Step 3. Request permission before request ads.")]),t._v(" "),a("p",[t._v("To present the authorization request, call "),a("a",{attrs:{href:"https://developer.apple.com/documentation/apptrackingtransparency/attrackingmanager/3547037-requesttrackingauthorization",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("requestTrackingAuthorizationWithCompletionHandler:")]),t._v(" "),a("OutboundLink")],1),t._v(". We recommend waiting for the completion callback prior to loading ads so that if the user grants the App Tracking Transparency permission, the Interactive Media Ads SDK can use the IDFA in ad requests.")]),t._v(" "),a("div",{staticClass:"language-objectivec line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-objectivec"}},[a("code",[a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("AppTrackingTransparency"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("AppTrackingTransparency"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("h"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")])])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token macro property"}},[a("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),a("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("AdSupport"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("AdSupport"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("h"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")])])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("requestIDFA "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ATTrackingManager requestTrackingAuthorizationWithCompletionHandler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ATTrackingManagerAuthorizationStatus status"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Tracking authorization completed. Start loading ads here.")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// [self.myTKAdNative loadAd];")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("p",[t._v("For more information about the possible status values, see "),a("a",{attrs:{href:"https://developer.apple.com/documentation/apptrackingtransparency/attrackingmanager/authorizationstatus",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("ATTrackingManager.AuthorizationStatus")]),t._v(" "),a("OutboundLink")],1),t._v(".")])])}),[],!1,null,null,null);e.default=s.exports}}]);